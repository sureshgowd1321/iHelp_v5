<!--
  Generated template for the SignupPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content class="background">
  <ion-card class="card-display">
      <ion-card-header>
         <h1> Register </h1>
          <!-- <img src="assets/imgs/iHelp.png" alt="logo" class="title-image"> -->
      </ion-card-header>

      <ion-card-content class="no-scroll">

           <form [formGroup]="signupForm" (submit)="signup()" novalidate>

              <ion-list no-lines>

                  <ion-item>
                      <ion-label color="primary">Name</ion-label>
                      <ion-input #name formControlName="name" type="string" [class.invalid]="!signupForm.controls.name.valid && signupForm.controls.name.dirty"></ion-input>
                  </ion-item>
                  <ion-item class="error-message" *ngIf="!signupForm.controls.name.valid && signupForm.controls.name.dirty">
                      <p>Please enter name.</p>
                  </ion-item>
<!-- 
                  <ion-item>
                      <ion-label floating color="primary">Nick Name</ion-label>
                      <ion-input #nickName formControlName="nickName" type="string" [class.invalid]="!signupForm.controls.name.valid && signupForm.controls.name.dirty"></ion-input>
                  </ion-item> [(ngModel)]="gender" formcontrolname="nameFormControl" -->

                  <ion-item>
                    <ion-label color="primary">Gender</ion-label>
                    <ion-select #gender formControlName="gender">
                      <ion-option value="Male">Male</ion-option>
                      <ion-option value="Female">Female</ion-option>
                    </ion-select>
                  </ion-item>

                  <ion-item>
                    <ion-label color="primary">Country</ion-label>
                    <ion-select #country formControlName="country" (ionChange)="setStateValues()" >
                        <ion-option *ngFor="let country of countries">{{country}} </ion-option>
                    </ion-select>
                  </ion-item>

                  <ion-item>
                    <ion-label color="primary">State</ion-label>
                    <ion-select #state formControlName="state" (ionChange)="setCityValues()">
                        <ion-option *ngFor="let state of selectedStates">{{state}} </ion-option>
                    </ion-select>
                  </ion-item>

                  <ion-item>
                    <ion-label color="primary">City</ion-label>
                    <ion-select #city formControlName="city" >
                        <ion-option *ngFor="let city of selectedCities">{{city}} </ion-option>
                    </ion-select>
                  </ion-item>

                  <ion-item>
                      <ion-label color="primary">Email</ion-label>
                      <ion-input #email formControlName="email" type="email" [class.invalid]="!signupForm.controls.email.valid && signupForm.controls.email.dirty"></ion-input>
                  </ion-item>
                  <ion-item class="error-message" *ngIf="!signupForm.controls.email.valid  && signupForm.controls.email.dirty">
                      <p>Please enter a valid email.</p>
                  </ion-item>

                  <ion-item>
                      <ion-label color="primary">Password</ion-label>
                      <ion-input #password formControlName="password" type="password" [class.invalid]="!signupForm.controls.password.valid && signupForm.controls.password.dirty"></ion-input>
                  </ion-item>
                  <ion-item class="error-message" *ngIf="!signupForm.controls.password.valid  && signupForm.controls.password.dirty">
                      <p>Min 6 characters.</p>
                  </ion-item>

                  <button ion-button color="primary" block outline type="submit"> 
                  Create an Account 
              </button>

                  <ion-item>
                      <p> Already have an Account ? <a (click)="goToLoginPage()">Login</a></p>
                  </ion-item>
              </ion-list>

          </form> 
      </ion-card-content>
  </ion-card>
</ion-content>